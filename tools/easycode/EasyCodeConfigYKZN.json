{
  "author" : "makejava",
  "version" : "1.2.9",
  "userSecure" : "",
  "currTypeMapperGroupName" : "ykzn",
  "currTemplateGroupName" : "ykzn",
  "currColumnConfigGroupName" : "ykzn",
  "currGlobalConfigGroupName" : "ykzn",
  "typeMapper" : {
    "ykzn" : {
      "name" : "ykzn",
      "elementList" : [ {
        "matchType" : "REGEX",
        "columnType" : "varchar(\\(\\d+\\))?",
        "javaType" : "java.lang.String"
      }, {
        "matchType" : "REGEX",
        "columnType" : "char(\\(\\d+\\))?",
        "javaType" : "java.lang.String"
      }, {
        "matchType" : "REGEX",
        "columnType" : "(tiny|medium|long)*text",
        "javaType" : "java.lang.String"
      }, {
        "matchType" : "REGEX",
        "columnType" : "decimal(\\(\\d+,\\d+\\))?",
        "javaType" : "java.math.BigDecimal"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "integer",
        "javaType" : "java.lang.Integer"
      }, {
        "matchType" : "REGEX",
        "columnType" : "(tiny|small|medium)*int(\\(\\d+\\))?",
        "javaType" : "java.lang.Integer"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "int4",
        "javaType" : "java.lang.Integer"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "int8",
        "javaType" : "java.lang.Long"
      }, {
        "matchType" : "REGEX",
        "columnType" : "bigint(\\(\\d+\\))?",
        "javaType" : "java.lang.Long"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "date",
        "javaType" : "java.time.LocalDateTime"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "datetime",
        "javaType" : "java.time.LocalDateTime"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "timestamp",
        "javaType" : "java.time.LocalDateTime"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "time",
        "javaType" : "java.time.LocalTime"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "boolean",
        "javaType" : "java.lang.Boolean"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "bit",
        "javaType" : "java.lang.Boolean"
      }, {
        "matchType" : "ORDINARY",
        "columnType" : "bit(1)",
        "javaType" : "java.lang.Boolean"
      } ]
    }
  },
  "template" : {
    "ykzn" : {
      "name" : "ykzn",
      "elementList" : [ {
        "name" : "controller.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 下划线转驼峰 ----\n#camelizeAndT($tableInfo.obj.name)\n#set($tableName = $buf)               ## CamelName\n#set($tableNameEntity = \"${tableName}DO\")\n#set($tableNameService = \"${tableName}Service\")\n#set($tableNameController = \"${tableName}Controller\")\n#set($saveReqVO = \"${tableName}SaveReqVO\")\n#set($pageReqVO = \"${tableName}PageReqVO\")\n#set($respVO = \"${tableName}RespVO\")\n\n## URL 转成 /t/xxx-xxx\n#nameToPath($tableInfo.obj.name)\n#set($url = $nameToPathRes)\n\n## 创建 Controller 文件\n$!callback.setFileName($tool.append($tableNameController, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/controller\"))\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}controller;\n\n\nimport $!{tableInfo.savePackageName}.entity.$tableNameEntity;\nimport $!{tableInfo.savePackageName}.model.vo.$saveReqVO;\nimport $!{tableInfo.savePackageName}.model.vo.$pageReqVO;\nimport $!{tableInfo.savePackageName}.model.vo.$respVO;\nimport $!{tableInfo.savePackageName}.service.$tableNameService;\nimport com.yays.yaycloud.common.log.annotation.Log;\nimport com.yays.yaycloud.common.pojo.CommonResult;\nimport com.yays.yaycloud.common.pojo.PageResult;\nimport com.yays.yaycloud.common.security.resource.helper.ISecurity;\nimport com.yays.yaycloud.common.utils.object.BeanUtils;\nimport jakarta.validation.Valid;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.validation.annotation.Validated;\nimport static com.yays.yaycloud.common.pojo.CommonResult.success;\n\n/**\n * $!{tableInfo.comment}\n *\n * @author david\n * @since $!time.currTime()\n */\n@RestController\n@RequestMapping(\"$!{url}\")\n@Validated\n@RequiredArgsConstructor\n@Slf4j\npublic class $tableNameController {\n\n    private final $tableNameService $tool.firstLowerCase(${tableName})Service;\n\n    /**\n     * 创建\n     */\n    @Log(\"创建$tableInfo.comment\")\n    @PostMapping(\"/create\")\n    public CommonResult<Long> create$tableName(@Valid @RequestBody $saveReqVO createReqVO) {\n        return success($tool.firstLowerCase(${tableName})Service.create${tableName}(createReqVO));\n    }\n\n    /**\n     * 更新\n     */\n    @Log(\"更新$tableInfo.comment\")\n    @PutMapping(\"/update\")\n    public CommonResult<Boolean> update$tableName(@Valid @RequestBody $saveReqVO updateReqVO) {\n        $tool.firstLowerCase(${tableName})Service.update${tableName}(updateReqVO);\n        return success(true);\n    }\n\n    /**\n     * 删除\n     */\n    @Log(\"删除$tableInfo.comment\")\n    @DeleteMapping(\"/delete\")\n    public CommonResult<Boolean> delete$tableName(@RequestParam(\"id\") Long id) {\n        $tool.firstLowerCase(${tableName})Service.delete${tableName}(id);\n        return success(true);\n    }\n\n    /**\n     * 查询详情\n     */\n    @Log(\"查询$tableInfo.comment\")\n    @GetMapping(\"/get\")\n    public CommonResult<$respVO> get$tableName(@RequestParam(\"id\") Long id) {\n        $tableNameEntity data = $tool.firstLowerCase(${tableName})Service.get${tableName}(id);\n        return success(BeanUtils.toBean(data, ${respVO}.class));\n    }\n\n    /**\n     * 分页查询\n     */\n    @Log(\"分页查询$tableInfo.comment\")\n    @GetMapping(\"/page\")\n    public CommonResult<PageResult<$respVO>> get${tableName}Page(@Valid $pageReqVO pageReqVO) {\n        PageResult<$tableNameEntity> page = $tool.firstLowerCase(${tableName})Service.get${tableName}Page(pageReqVO);\n        return success(BeanUtils.toBean(page, ${respVO}.class));\n    }\n\n}\n"
      }, {
        "name" : "debug.json.vm",
        "code" : "// 禁止将生成结果写入到文件\n$!callback.setWriteFile(false)\n\n//调试表原始对象\n$!tool.debug($tableInfo.obj)\n\n//调试列原始对象\n$!tool.debug($tableInfo.fullColumn.get(0).obj)\n\n//调试列原始列类型\n$!tool.debug($tableInfo.fullColumn.get(0).obj.dataType)\n\n//获取原始列类型中的字段\nsqlType = $!tool.getField($tableInfo.fullColumn.get(0).obj.dataType, \"typeName\")\n\n//执行原始列类型中的方法\nsqlTypeLen = $!tableInfo.fullColumn.get(0).obj.dataType.getLength()\n"
      }, {
        "name" : "entity.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#set($nameBuffer = \"\")\n#camelizeAndT($tableInfo.obj.name)\n#set($simpleName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableName = \"${simpleName}DO\")\n\n## 要过滤的公共字段（不生成在 DO 中）\n#set($skipFields = [\"createTime\", \"updateTime\", \"creator\", \"updater\", \"deleted\"])\n\n## 设置文件名路径\n$!callback.setFileName(\"${tableName}.java\")\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/entity\"))\n\n## 设置包名\n#setPackageSuffix(\"entity\")\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport com.yays.yaycloud.common.mp.dataobject.BaseDO;\nimport lombok.*;\n\n/**\n * $!{tableInfo.comment} DO\n * @author david\n */\n@TableName(\"$!{tableInfo.obj.name}\")\n@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class $!{tableName} extends BaseDO {\n\n#foreach($column in $tableInfo.fullColumn)\n    ## 判断字段是否需要跳过\n    #if($skipFields.contains($column.name))\n        ## 跳过，不输出任何东西\n    #else\n    \n    /**\n     * $!{column.comment}\n     */\n    #if($column.name == \"id\")\n    @TableId\n    #end\n    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};\n    #end  ## end skip check\n#end  ## end foreach\n\n\n}\n"
      }, {
        "name" : "service.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#camelizeAndT($tableInfo.obj.name)\n#set($tableName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableNameEntity = \"${tableName}DO\")\n#set($tableNameService = \"${tableName}Service\")\n\n##设置回调\n$!callback.setFileName($tool.append($tableNameService, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/service\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service;\n\nimport $!{tableInfo.savePackageName}.entity.$!{tableNameEntity};\nimport $!{tableInfo.savePackageName}.model.vo.$!{tableName}PageReqVO;\nimport $!{tableInfo.savePackageName}.model.vo.$!{tableName}SaveReqVO;\nimport com.yays.yaycloud.common.pojo.PageResult;\n\n/**\n * $!{tableInfo.comment} 服务接口\n *\n * @author david\n * @since $!time.currTime()\n */\npublic interface $!{tableNameService} {\n\n     /**\n     * 创建 $!{tableInfo.comment}\n     *\n     * @param createReqVO 创建信息\n     * @return 编号\n     */\n    Long create$tableName($!{tableName}SaveReqVO createReqVO);\n\n    /**\n     * 更新 $!{tableInfo.comment}\n     *\n     * @param updateReqVO 更新信息\n     */\n    void update$tableName($!{tableName}SaveReqVO updateReqVO);\n\n    /**\n     * 删除 $!{tableInfo.comment}\n     *\n     * @param id 编号\n     */\n    void delete$tableName(Long id);\n\n    /**\n     * 获得 $!{tableInfo.comment}\n     *\n     * @param id 编号\n     * @return $!{tableInfo.comment}\n     */\n    $!{tableNameEntity} get$tableName(Long id);\n\n    /**\n     * 获得 $!{tableInfo.comment} 分页\n     *\n     * @param pageReqVO 分页查询\n     * @return 分页结果\n     */\n    PageResult<$!{tableNameEntity}> get${tableName}Page($!{tableName}PageReqVO pageReqVO);\n\n\n}"
      }, {
        "name" : "serviceImpl.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#camelizeAndT($tableInfo.obj.name)\n#set($tableName = $buf)   ## camelizeAndT 宏输出\n#set($tableNameEntity = \"${tableName}DO\")\n#set($tableNameLow = $tool.firstLowerCase(${tableName}))\n#set($tableNameMapper = \"${tableName}Mapper\")\n#set($tableNameService = \"${tableName}Service\")\n#set($tableNameServiceImpl = \"${tableName}ServiceImpl\")\n#set($saveReqVO = \"${tableName}SaveReqVO\")\n#set($pageReqVO = \"${tableName}PageReqVO\")\n\n## 设置回调\n$!callback.setFileName($tool.append($tableNameServiceImpl, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/service/impl\"))\n\n## 拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n  #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service.impl;\n\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport $!{tableInfo.savePackageName}.entity.$!{tableNameEntity};\nimport $!{tableInfo.savePackageName}.mapper.$!{tableNameMapper};\nimport $!{tableInfo.savePackageName}.service.$!{tableNameService};\nimport $!{tableInfo.savePackageName}.model.vo.$saveReqVO;\nimport $!{tableInfo.savePackageName}.model.vo.$pageReqVO;\nimport com.yays.yaycloud.common.model.resp.SystemCode;\nimport com.yays.yaycloud.common.pojo.PageResult;\nimport com.yays.yaycloud.common.utils.object.BeanUtils;\nimport com.yays.yaycloud.global.model.exception.GlobalException;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\nimport org.springframework.validation.annotation.Validated;\n\n/**\n * $!{tableInfo.comment} Service 实现类\n *\n * @author david\n * @since $!time.currTime()\n */\n@Service\n@Validated\n@RequiredArgsConstructor\n@Slf4j\npublic class $!{tableNameServiceImpl} extends ServiceImpl<$tableNameMapper, $tableNameEntity> implements $!{tableNameService} {\n\n    private final $tableNameMapper $tool.firstLowerCase(${tableName})Mapper;\n\n    @Override\n    public Long create${tableName}($saveReqVO createReqVO) {\n        $tableNameEntity insertObj = BeanUtils.toBean(createReqVO, $!{tableNameEntity}.class);\n        ${tool.firstLowerCase(${tableName})}Mapper.insert(insertObj);\n        return insertObj.getId();\n    }\n\n    @Override\n    public void update${tableName}($saveReqVO updateReqVO) {\n        validate${tableName}Exists(updateReqVO.getId());\n        $tableNameEntity updateObj = BeanUtils.toBean(updateReqVO, $!{tableNameEntity}.class);\n        ${tool.firstLowerCase(${tableName})}Mapper.updateById(updateObj);\n    }\n\n    @Override\n    public void delete${tableName}(Long id) {\n        validate${tableName}Exists(id);\n        ${tool.firstLowerCase(${tableName})}Mapper.deleteById(id);\n    }\n\n    private void validate${tableName}Exists(Long id) {\n        if (${tool.firstLowerCase(${tableName})}Mapper.selectById(id) == null) {\n            throw new GlobalException(SystemCode.DATA_NOT_EXIST);\n        }\n    }\n\n    @Override\n    public $tableNameEntity get${tableName}(Long id) {\n        return ${tool.firstLowerCase(${tableName})}Mapper.selectById(id);\n    }\n\n    @Override\n    public PageResult<$tableNameEntity> get${tableName}Page($pageReqVO pageReqVO) {\n        return ${tool.firstLowerCase(${tableName})}Mapper.selectPage(pageReqVO);\n    }\n\n}\n"
      }, {
        "name" : "mapper.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#set($nameBuffer = \"\")\n#camelizeAndT($tableInfo.obj.name)\n#set($simpleName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableName = \"${simpleName}\")\n#set($tableNameEntity = \"${simpleName}DO\")\n#set($tableNamePageReq = \"${simpleName}PageReqVO\")\n\n##定义初始变量\n#set($mapperName = $tool.append($tableName, \"Mapper\"))\n##设置回调\n$!callback.setFileName($tool.append($mapperName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/mapper\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n## #if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}mapper;\n#if($tableInfo.savePackageName)\npackage $!{tableInfo.savePackageName}.mapper;\n#end\n\nimport com.yays.yaycloud.common.mp.mapper.BaseMapperX;\nimport $!{tableInfo.savePackageName}.entity.$!{tableNameEntity};\nimport $!{tableInfo.savePackageName}.model.vo.$!{tableNamePageReq};\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Param;\nimport com.yays.yaycloud.common.mp.query.LambdaQueryWrapperX;\nimport com.yays.yaycloud.common.pojo.PageResult;\nimport org.springframework.data.domain.Pageable;\nimport java.util.List;\n\n/**\n * $!{tableInfo.comment} 表数据库访问层\n *\n * @author david\n * @since $!time.currTime()\n */\n@Mapper\npublic interface $!{mapperName} extends BaseMapperX<$!{tableNameEntity}> {\n\n    /**\n     * 分页查询\n     *\n     * @param reqVO 入参\n     * @return 结果\n     */\n     default PageResult<$!{tableNameEntity}> selectPage($!{tableName}PageReqVO reqVO) {\n         return selectPage(reqVO, new LambdaQueryWrapperX<$!{tableNameEntity}>()\n            #set($skipFields = [\"updateTime\", \"creator\", \"updater\", \"deleted\"])\n            #foreach($column in $tableInfo.fullColumn)\n                #set($col = $column.name)\n                #if($col == \"id\" || $skipFields.contains($col))\n                    ## skip\n                #else\n                    #upperWord($column.name)\n                    #if($col == \"createTime\")\n                        .betweenIfPresent($!{tableNameEntity}::get$upperWordRes, reqVO.get$upperWordRes())\n                    #else\n                        .eqIfPresent($!{tableNameEntity}::get$upperWordRes, reqVO.get$upperWordRes())\n                    #end\n                #end\n            #end\n            .orderByDesc($!{tableNameEntity}::getId)\n        );\n}\n\n\n\n\n\n}\n"
      }, {
        "name" : "mapper.xml.vm",
        "code" : "##引入mybatis支持\n$!{mybatisSupport.vm}\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#set($nameBuffer = \"\")\n#camelizeAndT($tableInfo.obj.name)\n#set($simpleName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableName = \"${simpleName}\")\n\n##设置保存名称与保存位置\n$!callback.setFileName($tool.append($!{tableName}, \"Mapper.xml\"))\n$!callback.setSavePath($tool.append($modulePath, \"/src/main/resources/mapper\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"$!{tableInfo.savePackageName}.mapper.$!{tableName}Mapper\">\n\n   <!-- 自动生成所有字段 -->\n    <sql id=\"baseColumnList\">\n        #foreach($column in $tableInfo.fullColumn)\n            $!{column.name}#if($foreach.hasNext),#end\n        #end\n    </sql>\n\n</mapper>\n"
      }, {
        "name" : "pageReqVO.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#set($nameBuffer = \"\")\n#camelizeAndT($tableInfo.obj.name)\n#set($simpleName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableName = \"${simpleName}PageReqVO\")\n\n## 要过滤的公共字段（不生成）\n#set($skipFields = [\"id\",\"updateTime\"])\n\n## 设置文件名路径\n$!callback.setFileName(\"${tableName}.java\")\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/model/vo\"))\n\n## 设置包名\n#setPackageSuffix(\"model.vo\")\n\nimport com.yays.yaycloud.common.pojo.PageParam;\nimport lombok.*;\nimport org.springframework.format.annotation.DateTimeFormat;\nimport java.time.LocalDateTime;\nimport static com.yays.yaycloud.common.utils.date.DateUtils.FORMAT_YEAR_MONTH_DAY_HOUR_MINUTE_SECOND;\n\n/**\n * $!{tableInfo.comment} 页请求 VO\n * @author david\n */\n@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\npublic class $!{tableName} extends PageParam  {\n\n#foreach($column in $tableInfo.fullColumn)\n    ## 判断字段是否需要跳过\n    #if($skipFields.contains($column.name))\n        ## 跳过，不输出任何东西\n    ## 2. createTime 字段：时间区间查询，需要 LocalDateTime[]\n    #elseif($column.name == \"createTime\")\n        /**\n         * $!{column.comment}\n         */\n        @DateTimeFormat(pattern = FORMAT_YEAR_MONTH_DAY_HOUR_MINUTE_SECOND)\n        private LocalDateTime[] createTime;\n    ## 3. deleted 字段：统一生成 Integer\n    #elseif($column.name == \"deleted\")\n        /**\n         * $!{column.comment}\n         */\n        private Integer deleted;\n    ## 4. 普通字段：保持原样\n    #else\n        /**\n         * $!{column.comment}\n         */\n        private $!{tool.getClsNameByFullName($column.type)} $!{column.name};\n    #end  ## end skip check\n#end  ## end foreach\n\n\n}\n"
      }, {
        "name" : "respVO.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#set($nameBuffer = \"\")\n#camelizeAndT($tableInfo.obj.name)\n#set($simpleName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableName = \"${simpleName}RespVO\")\n\n## 要过滤的公共字段（不生成）\n#set($skipFields = [\"deleted\"])\n\n## 设置文件名路径\n$!callback.setFileName(\"${tableName}.java\")\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/model/vo\"))\n\n## 设置包名\n#setPackageSuffix(\"model.vo\")\n\nimport lombok.*;\nimport java.time.LocalDateTime;\n\n/**\n * $!{tableInfo.comment} 返回VO\n * @author david\n */\n@Data\npublic class $!{tableName}  {\n\n#foreach($column in $tableInfo.fullColumn)\n    ## 判断字段是否需要跳过\n    #if($skipFields.contains($column.name))\n        ## 跳过，不输出任何东西\n    ## 4. 普通字段：保持原样\n    #else\n        /**\n         * $!{column.comment}\n         */\n        private $!{tool.getClsNameByFullName($column.type)} $!{column.name};\n    #end  ## end skip check\n#end  ## end foreach\n\n\n}\n"
      }, {
        "name" : "saveReqVO.java.vm",
        "code" : "## 引入公共宏定义\n$!{define.vm}\n\n## ---- 调用 camelize 宏 ----\n#set($nameBuffer = \"\")\n#camelizeAndT($tableInfo.obj.name)\n#set($simpleName = $buf)   ## camelizeAndT 宏的输出在 $buf 中\n#set($tableName = \"${simpleName}SaveReqVO\")\n\n## 要过滤的公共字段（不生成）\n#set($skipFields = [\"deleted\",\"createTime\",\"updateTime\"])\n\n## 设置文件名路径\n$!callback.setFileName(\"${tableName}.java\")\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/model/vo\"))\n\n## 设置包名\n#setPackageSuffix(\"model.vo\")\n\nimport lombok.*;\nimport java.time.LocalDateTime;\n\n/**\n * $!{tableInfo.comment} 保存VO\n * @author david\n */\n@Data\npublic class $!{tableName}  {\n\n#foreach($column in $tableInfo.fullColumn)\n    ## 判断字段是否需要跳过\n    #if($skipFields.contains($column.name))\n        ## 跳过，不输出任何东西\n    ## 4. 普通字段：保持原样\n    #else\n        /**\n         * $!{column.comment}\n         */\n        private $!{tool.getClsNameByFullName($column.type)} $!{column.name};\n    #end  ## end skip check\n#end  ## end foreach\n\n\n}\n"
      } ]
    }
  },
  "columnConfig" : {
    "ykzn" : {
      "name" : "ykzn",
      "elementList" : [ {
        "title" : "disable",
        "type" : "BOOLEAN",
        "selectValue" : ""
      }, {
        "title" : "support",
        "type" : "SELECT",
        "selectValue" : "add,edit,query,del,ui"
      } ]
    }
  },
  "globalConfig" : {
    "ykzn" : {
      "name" : "ykzn",
      "elementList" : [ {
        "name" : "autoImport.vm",
        "value" : "##自动导入包（仅导入实体属性需要的包，通常用于实体类）\n#foreach($import in $importList)\nimport $!import;\n#end"
      }, {
        "name" : "define.vm",
        "value" : "##（Velocity宏定义）\n\n##定义设置表名后缀的宏定义，调用方式：#setTableSuffix(\"Test\")\n#macro(setTableSuffix $suffix)\n    #set($tableName = $!tool.append($tableInfo.name, $suffix))\n#end\n\n##定义设置包名后缀的宏定义，调用方式：#setPackageSuffix(\"Test\")\n#macro(setPackageSuffix $suffix)\n#if($suffix!=\"\")package #end#if($tableInfo.savePackageName!=\"\")$!{tableInfo.savePackageName}.#{end}$!suffix;\n#end\n\n##定义直接保存路径与文件名简化的宏定义，调用方式：#save(\"/entity\", \".java\")\n#macro(save $path $fileName)\n    $!callback.setSavePath($tool.append($tableInfo.savePath, $path))\n    $!callback.setFileName($tool.append($tableInfo.name, $fileName))\n#end\n\n##定义表注释的宏定义，调用方式：#tableComment(\"注释信息\")\n#macro(tableComment $desc)\n/**\n * $!{tableInfo.comment}($!{tableInfo.name})$desc\n *\n * @author $!author\n * @since $!time.currTime()\n */\n#end\n\n##定义GET，SET方法的宏定义，调用方式：#getSetMethod($column)\n#macro(getSetMethod $column)\n    public $!{tool.getClsNameByFullName($column.type)} get$!{tool.firstUpperCase($column.name)}() {\n        return $!{column.name};\n    }\n    public void set$!{tool.firstUpperCase($column.name)}($!{tool.getClsNameByFullName($column.type)} $!{column.name}) {\n        this.$!{column.name} = $!{column.name};\n    }\n#end\n\n## ---------- 自定义工具：去前缀并转驼峰（首字母大写） ----------\n## 用法：\n##   #camelize($tableInfo.obj.name)\n##   ## 调用后得到变量：$camelized   （大驼峰类名）\n#macro(camelizeAndT $rawName)\n  #if(!$rawName)\n    #set($camelized = \"\")\n    #return()\n  #end\n  #set($name = $rawName)\n  ## 去掉表名前缀 t_ 或 T_\n  #if($name.startsWith(\"t_\") || $name.startsWith(\"T_\"))\n    #set($name = $name.substring(2))\n  #end\n  ## 分割下划线\n  #set($parts = $name.split(\"_\"))\n  #set($buf = \"\")\n  #foreach($p in $parts)\n    #set($seg = $p.trim())\n    #if($seg == \"\")\n      #continue\n    #end\n    #set($seg = $seg.toLowerCase())\n    #set($buf = \"${buf}${seg.substring(0,1).toUpperCase()}${seg.substring(1)}\")\n  #end\n  ## ✨ 不输出到文件，只设置变量 ✨\n  #set($camelized = $buf)\n#end\n\n## ---------- 自定义工具：转驼峰（首字母大写） ----------\n## 用法：\n##   #camelize($tableInfo.obj.name)\n##   ## 调用后得到变量：$camelized   （大驼峰类名）\n#macro(camelize $rawName)\n  #if(!$rawName)\n    #set($camelized = \"\")\n    #return()\n  #end\n  #set($name = $rawName)\n  ## 分割下划线\n  #set($parts = $name.split(\"_\"))\n  #set($buf = \"\")\n  #foreach($p in $parts)\n    #set($seg = $p.trim())\n    #if($seg == \"\")\n      #continue\n    #end\n    #set($seg = $seg.toLowerCase())\n    #set($buf = \"${buf}${seg.substring(0,1).toUpperCase()}${seg.substring(1)}\")\n  #end\n  ## ✨ 不输出到文件，只设置变量 ✨\n  #set($camelized = $buf)\n#end\n\n## ---------- 自定义工具：首字母大写 ----------\n#macro(upperWord $raw)\n  #if(!$raw || $raw.trim() == \"\")\n    #set($capitalized = \"\")\n    #return()\n  #end\n  #set($s = $raw.trim())\n  #if($s.length() > 0)\n    #set($upperWordRes = \"${s.substring(0,1).toUpperCase()}${s.substring(1)}\")\n  #else\n    #set($upperWordRes = \"\")\n  #end\n#end\n\n\n## ---------- 自定义工具：类名转 路径/横线命名 ----------\n## ---------- t_distribute_partner_copy 转为 t/distirbute-partner-copy ----------\n#macro(nameToPath $raw)\n  #if(!$raw || $raw.trim() == \"\")\n    #set($nameToPathRes = \"\")\n    #return()\n  #end\n\n  ## 拆分\n  #set($parts = $raw.split(\"_\"))\n  #set($first = $parts[0])\n\n  ## 手动 join（Velocity 无 join 方法）\n  #set($rest = \"\")\n  #foreach($p in $parts)\n    #if($foreach.count > 1)\n      #if($rest == \"\")\n        #set($rest = $p)\n      #else\n        #set($rest = \"${rest}-${p}\")\n      #end\n    #end\n  #end\n\n  ## 生成路径\n  #if($rest != \"\")\n    #set($nameToPathRes = \"/${first}/${rest}\")\n  #else\n    #set($nameToPathRes = \"/${first}\")\n  #end\n#end\n\n"
      }, {
        "name" : "init.vm",
        "value" : "##初始化区域\n\n##去掉表的t_前缀\n## $!tableInfo.setName($tool.getClassName($tableInfo.obj.name.replaceFirst(\"t_\",\"\")))\n\n##参考阿里巴巴开发手册，POJO 类中布尔类型的变量，都不要加 is 前缀，否则部分框架解析会引起序列化错误\n#foreach($column in $tableInfo.fullColumn)\n#if($column.name.startsWith(\"is\") && $column.type.equals(\"java.lang.Boolean\"))\n    $!column.setName($tool.firstLowerCase($column.name.substring(2)))\n#end\n#end\n\n##实现动态排除列\n#set($temp = $tool.newHashSet(\"testCreateTime\", \"otherColumn\"))\n#foreach($item in $temp)\n    #set($newList = $tool.newArrayList())\n    #foreach($column in $tableInfo.fullColumn)\n        #if($column.name!=$item)\n            ##带有反回值的方法调用时使用$tool.call来消除返回值\n            $tool.call($newList.add($column))\n        #end\n    #end\n    ##重新保存\n    $tableInfo.setFullColumn($newList)\n#end\n\n##对importList进行篡改\n#set($temp = $tool.newHashSet())\n#foreach($column in $tableInfo.fullColumn)\n    #if(!$column.type.startsWith(\"java.lang.\"))\n        ##带有反回值的方法调用时使用$tool.call来消除返回值\n        $tool.call($temp.add($column.type))\n    #end\n#end\n##覆盖\n#set($importList = $temp)"
      }, {
        "name" : "mybatisSupport.vm",
        "value" : "##针对Mybatis 进行支持，主要用于生成xml文件\n#foreach($column in $tableInfo.fullColumn)\n    ##储存列类型\n    $tool.call($column.ext.put(\"sqlType\", $tool.getField($column.obj.dataType, \"typeName\")))\n    #if($tool.newHashSet(\"java.lang.String\").contains($column.type))\n        #set($jdbcType=\"VARCHAR\")\n    #elseif($tool.newHashSet(\"java.lang.Boolean\", \"boolean\").contains($column.type))\n        #set($jdbcType=\"BOOLEAN\")\n    #elseif($tool.newHashSet(\"java.lang.Byte\", \"byte\").contains($column.type))\n        #set($jdbcType=\"BYTE\")\n    #elseif($tool.newHashSet(\"java.lang.Integer\", \"int\", \"java.lang.Short\", \"short\").contains($column.type))\n        #set($jdbcType=\"INTEGER\")\n    #elseif($tool.newHashSet(\"java.lang.Long\", \"long\").contains($column.type))\n        #set($jdbcType=\"INTEGER\")\n    #elseif($tool.newHashSet(\"java.lang.Float\", \"float\", \"java.lang.Double\", \"double\").contains($column.type))\n        #set($jdbcType=\"NUMERIC\")\n    #elseif($tool.newHashSet(\"java.util.Date\", \"java.sql.Timestamp\", \"java.time.Instant\", \"java.time.LocalDateTime\", \"java.time.OffsetDateTime\", \"\tjava.time.ZonedDateTime\").contains($column.type))\n        #set($jdbcType=\"TIMESTAMP\")\n    #elseif($tool.newHashSet(\"java.sql.Date\", \"java.time.LocalDate\").contains($column.type))\n        #set($jdbcType=\"TIMESTAMP\")\n    #else\n        ##其他类型\n        #set($jdbcType=\"VARCHAR\")\n    #end\n    $tool.call($column.ext.put(\"jdbcType\", $jdbcType))\n#end\n\n##定义宏，查询所有列\n#macro(allSqlColumn)#foreach($column in $tableInfo.fullColumn)$column.obj.name#if($foreach.hasNext), #end#end#end\n"
      } ]
    }
  }
}